import{u as $e}from"./BlRk-Y7X.js";import{f as q,r as k,n as C,af as me,ag as _,C as O,F as ee,a2 as oe,J as ge,ah as te,ae as ke,ai as ue,m as se,aL as Ce,y as ie,S as J,o as H,j as pe,w as L,b as W,s as j,Z as ve,a as ce,am as de,x as Y,c as Z,k as K,$ as Ee}from"./B1Dymv7Q.js";import{A as Te,N as Fe,E as Be,n as be,d as I}from"./Ccld02Vp.js";import{o as l,u as M,A as ae,I as G,N as fe,a as N,l as Ie}from"./Cdo835LU.js";import{w as De}from"./ByCo7ncE.js";import{s as Oe}from"./CvfQ3BBx.js";import{f as V,s as X}from"./BOXPKRjm.js";import{t as Ne,i as U,l as Ae}from"./DOzzRDra.js";import{i as le,E as ne,w as Me,h as He,P as A,N as D,T as x}from"./WjUQE1wl.js";import{u as Le}from"./BQNY4EVo.js";import{u as je}from"./DuzhPRS6.js";import{c as Ge}from"./CURKfPiP.js";import{_ as Re}from"./DlAUqK2U.js";import"./KXDFj247.js";const ze={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:Ge};var Ke=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ke||{});let ye=Symbol("PopoverContext");function re(e){let S=te(ye,null);if(S===null){let y=new Error(`<${e} /> is missing a parent <${he.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(y,re),y}return S}let Ue=Symbol("PopoverGroupContext");function Pe(){return te(Ue,null)}let Se=Symbol("PopoverPanelContext");function qe(){return te(Se,null)}let he=q({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:S,attrs:y,expose:T}){var h;let w=k(null);T({el:w,$el:w});let a=k(1),t=k(null),u=k(null),d=k(null),v=k(null),P=C(()=>le(w)),$=C(()=>{var o,r;if(!l(t)||!l(v))return!1;for(let z of document.querySelectorAll("body > *"))if(Number(z==null?void 0:z.contains(l(t)))^Number(z==null?void 0:z.contains(l(v))))return!0;let n=ne(),b=n.indexOf(l(t)),E=(b+n.length-1)%n.length,B=(b+1)%n.length,R=n[E],we=n[B];return!((o=l(v))!=null&&o.contains(R))&&!((r=l(v))!=null&&r.contains(we))}),m={popoverState:a,buttonId:k(null),panelId:k(null),panel:v,button:t,isPortalled:$,beforePanelSentinel:u,afterPanelSentinel:d,togglePopover(){a.value=M(a.value,{0:1,1:0})},closePopover(){a.value!==1&&(a.value=1)},close(o){m.closePopover();let r=o?o instanceof HTMLElement?o:o.value instanceof HTMLElement?l(o):l(m.button):l(m.button);r==null||r.focus()}};me(ye,m),Ne(C(()=>M(a.value,{0:U.Open,1:U.Closed})));let F={buttonId:m.buttonId,panelId:m.panelId,close(){m.closePopover()}},i=Pe(),f=i==null?void 0:i.registerPopover,[g,p]=Te(),c=Fe({mainTreeNodeRef:i==null?void 0:i.mainTreeNodeRef,portals:g,defaultContainers:[t,v]});function s(){var o,r,n,b;return(b=i==null?void 0:i.isFocusWithinPopoverGroup())!=null?b:((o=P.value)==null?void 0:o.activeElement)&&(((r=l(t))==null?void 0:r.contains(P.value.activeElement))||((n=l(v))==null?void 0:n.contains(P.value.activeElement)))}return _(()=>f==null?void 0:f(F)),Be((h=P.value)==null?void 0:h.defaultView,"focus",o=>{var r,n;o.target!==window&&o.target instanceof HTMLElement&&a.value===0&&(s()||t&&v&&(c.contains(o.target)||(r=l(m.beforePanelSentinel))!=null&&r.contains(o.target)||(n=l(m.afterPanelSentinel))!=null&&n.contains(o.target)||m.closePopover()))},!0),De(c.resolveContainers,(o,r)=>{var n;m.closePopover(),Me(r,He.Loose)||(o.preventDefault(),(n=l(t))==null||n.focus())},C(()=>a.value===0)),()=>{let o={open:a.value===0,close:m.close};return O(ee,[O(p,{},()=>ae({theirProps:{...e,...y},ourProps:{ref:w},slot:o,slots:S,attrs:y,name:"Popover"})),O(c.MainTreeNode)])}}}),Je=q({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:S,slots:y,expose:T}){var h;let w=(h=e.id)!=null?h:`headlessui-popover-button-${G()}`,a=re("PopoverButton"),t=C(()=>le(a.button));T({el:a.button,$el:a.button}),oe(()=>{a.buttonId.value=w}),ge(()=>{a.buttonId.value=null});let u=Pe(),d=u==null?void 0:u.closeOthers,v=qe(),P=C(()=>v===null?!1:v.value===a.panelId.value),$=k(null),m=`headlessui-focus-sentinel-${G()}`;P.value||_(()=>{a.button.value=l($)});let F=Oe(C(()=>({as:e.as,type:S.type})),$);function i(o){var r,n,b,E,B;if(P.value){if(a.popoverState.value===1)return;switch(o.key){case N.Space:case N.Enter:o.preventDefault(),(n=(r=o.target).click)==null||n.call(r),a.closePopover(),(b=l(a.button))==null||b.focus();break}}else switch(o.key){case N.Space:case N.Enter:o.preventDefault(),o.stopPropagation(),a.popoverState.value===1&&(d==null||d(a.buttonId.value)),a.togglePopover();break;case N.Escape:if(a.popoverState.value!==0)return d==null?void 0:d(a.buttonId.value);if(!l(a.button)||(E=t.value)!=null&&E.activeElement&&!((B=l(a.button))!=null&&B.contains(t.value.activeElement)))return;o.preventDefault(),o.stopPropagation(),a.closePopover();break}}function f(o){P.value||o.key===N.Space&&o.preventDefault()}function g(o){var r,n;e.disabled||(P.value?(a.closePopover(),(r=l(a.button))==null||r.focus()):(o.preventDefault(),o.stopPropagation(),a.popoverState.value===1&&(d==null||d(a.buttonId.value)),a.togglePopover(),(n=l(a.button))==null||n.focus()))}function p(o){o.preventDefault(),o.stopPropagation()}let c=be();function s(){let o=l(a.panel);if(!o)return;function r(){M(c.value,{[I.Forwards]:()=>A(o,D.First),[I.Backwards]:()=>A(o,D.Last)})===x.Error&&A(ne().filter(n=>n.dataset.headlessuiFocusGuard!=="true"),M(c.value,{[I.Forwards]:D.Next,[I.Backwards]:D.Previous}),{relativeTo:l(a.button)})}r()}return()=>{let o=a.popoverState.value===0,r={open:o},{...n}=e,b=P.value?{ref:$,type:F.value,onKeydown:i,onClick:g}:{ref:$,id:w,type:F.value,"aria-expanded":a.popoverState.value===0,"aria-controls":l(a.panel)?a.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:i,onKeyup:f,onClick:g,onMousedown:p};return O(ee,[ae({ourProps:b,theirProps:{...S,...n},slot:r,attrs:S,slots:y,name:"PopoverButton"}),o&&!P.value&&a.isPortalled.value&&O(V,{id:m,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:s})])}}}),We=q({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:S,slots:y,expose:T}){var h;let w=(h=e.id)!=null?h:`headlessui-popover-panel-${G()}`,{focus:a}=e,t=re("PopoverPanel"),u=C(()=>le(t.panel)),d=`headlessui-focus-sentinel-before-${G()}`,v=`headlessui-focus-sentinel-after-${G()}`;T({el:t.panel,$el:t.panel}),oe(()=>{t.panelId.value=w}),ge(()=>{t.panelId.value=null}),me(Se,t.panelId),_(()=>{var p,c;if(!a||t.popoverState.value!==0||!t.panel)return;let s=(p=u.value)==null?void 0:p.activeElement;(c=l(t.panel))!=null&&c.contains(s)||A(l(t.panel),D.First)});let P=Ae(),$=C(()=>P!==null?(P.value&U.Open)===U.Open:t.popoverState.value===0);function m(p){var c,s;switch(p.key){case N.Escape:if(t.popoverState.value!==0||!l(t.panel)||u.value&&!((c=l(t.panel))!=null&&c.contains(u.value.activeElement)))return;p.preventDefault(),p.stopPropagation(),t.closePopover(),(s=l(t.button))==null||s.focus();break}}function F(p){var c,s,o,r,n;let b=p.relatedTarget;b&&l(t.panel)&&((c=l(t.panel))!=null&&c.contains(b)||(t.closePopover(),((o=(s=l(t.beforePanelSentinel))==null?void 0:s.contains)!=null&&o.call(s,b)||(n=(r=l(t.afterPanelSentinel))==null?void 0:r.contains)!=null&&n.call(r,b))&&b.focus({preventScroll:!0})))}let i=be();function f(){let p=l(t.panel);if(!p)return;function c(){M(i.value,{[I.Forwards]:()=>{var s;A(p,D.First)===x.Error&&((s=l(t.afterPanelSentinel))==null||s.focus())},[I.Backwards]:()=>{var s;(s=l(t.button))==null||s.focus({preventScroll:!0})}})}c()}function g(){let p=l(t.panel);if(!p)return;function c(){M(i.value,{[I.Forwards]:()=>{let s=l(t.button),o=l(t.panel);if(!s)return;let r=ne(),n=r.indexOf(s),b=r.slice(0,n+1),E=[...r.slice(n+1),...b];for(let B of E.slice())if(B.dataset.headlessuiFocusGuard==="true"||o!=null&&o.contains(B)){let R=E.indexOf(B);R!==-1&&E.splice(R,1)}A(E,D.First,{sorted:!1})},[I.Backwards]:()=>{var s;A(p,D.Previous)===x.Error&&((s=l(t.button))==null||s.focus())}})}c()}return()=>{let p={open:t.popoverState.value===0,close:t.close},{focus:c,...s}=e,o={ref:t.panel,id:w,onKeydown:m,onFocusout:a&&t.popoverState.value===0?F:void 0,tabIndex:-1};return ae({ourProps:o,theirProps:{...S,...s},attrs:S,slot:p,slots:{...y,default:(...r)=>{var n;return[O(ee,[$.value&&t.isPortalled.value&&O(V,{id:d,ref:t.beforePanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:f}),(n=y.default)==null?void 0:n.call(y,...r),$.value&&t.isPortalled.value&&O(V,{id:v,ref:t.afterPanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:g})])]}},features:fe.RenderStrategy|fe.Static,visible:$.value,name:"PopoverPanel"})}}});const Q=ke(ue.ui.strategy,ue.ui.popover,ze),Ye=q({components:{HPopover:he,HPopoverButton:Je,HPopoverPanel:We},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>Q.default.openDelay},closeDelay:{type:Number,default:()=>Q.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:S}){const{ui:y,attrs:T}=Le("popover",se(e,"ui"),Q,se(e,"class")),h=C(()=>Ce(e.mode==="hover"?{offsetDistance:0}:{},e.popper,y.value.popper)),[w,a]=je(h.value),t=k(null),u=k(null);let d=null,v=null;oe(()=>{var g,p;const i=(g=t.value)==null?void 0:g.$.provides;if(!i)return;const f=Object.getOwnPropertySymbols(i);u.value=f.length&&i[f[0]],e.open&&((p=u.value)==null||p.togglePopover())});const P=C(()=>{var p,c,s;if(e.mode!=="hover")return{};const i=((p=e.popper)==null?void 0:p.offsetDistance)||((c=y.value.popper)==null?void 0:c.offsetDistance)||8,f=(s=h.value.placement)==null?void 0:s.split("-")[0],g=`${i}px`;return f==="top"||f==="bottom"?{paddingTop:g,paddingBottom:g}:f==="left"||f==="right"?{paddingLeft:g,paddingRight:g}:{paddingTop:g,paddingBottom:g,paddingLeft:g,paddingRight:g}});function $(){u.value&&(u.value.popoverState===0?u.value.closePopover():u.value.togglePopover())}function m(){e.mode!=="hover"||!u.value||(v&&(clearTimeout(v),v=null),u.value.popoverState!==0&&(d=d||setTimeout(()=>{u.value.togglePopover&&u.value.togglePopover(),d=null},e.openDelay)))}function F(){e.mode!=="hover"||!u.value||(d&&(clearTimeout(d),d=null),u.value.popoverState!==1&&(v=v||setTimeout(()=>{u.value.closePopover&&u.value.closePopover(),v=null},e.closeDelay)))}return ie(()=>e.open,(i,f)=>{u.value&&(f===void 0||i===f||(i?u.value.popoverState=0:u.value.closePopover()))}),ie(()=>{var i;return(i=u.value)==null?void 0:i.popoverState},(i,f)=>{f===void 0||i===f||S("update:open",i===0)}),Ie(()=>$e("$dcv2Y3vSTA")),{ui:y,attrs:T,popover:t,popper:h,trigger:w,container:a,containerStyle:P,onTouchStart:$,onMouseEnter:m,onMouseLeave:F}}}),Ze=["disabled"];function Qe(e,S,y,T,h,w){const a=J("HPopoverButton"),t=J("HPopoverPanel"),u=J("HPopover");return H(),pe(u,Y({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:L(({open:d,close:v})=>[W(a,{ref:"trigger",as:"div",disabled:e.disabled,class:j(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:L(()=>[ve(e.$slots,"default",{open:d,close:v},()=>[ce("button",{disabled:e.disabled}," Open ",8,Ze)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(H(),pe(de,Y({key:0,appear:""},e.ui.overlay.transition),{default:L(()=>[d?(H(),Z("div",{key:0,class:j([e.ui.overlay.base,e.ui.overlay.background])},null,2)):K("",!0)]),_:2},1040)):K("",!0),d?(H(),Z("div",{key:1,ref:"container",class:j([e.ui.container,e.ui.width]),style:Ee(e.containerStyle)},[W(de,Y({appear:""},e.ui.transition),{default:L(()=>[ce("div",null,[e.popper.arrow?(H(),Z("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.ui.arrow))},null,2)):K("",!0),W(t,{class:j([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:L(()=>[ve(e.$slots,"panel",{open:d,close:v})]),_:2},1032,["class"])])]),_:2},1040)],6)):K("",!0)]),_:3},16,["class","onMouseleave"])}const po=Re(Ye,[["render",Qe]]);export{po as default};
