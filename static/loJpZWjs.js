import{g as $,h as j,i as v,o as l,c as p,n as u,j as e,r as g,k as y,a as b,m as _,d as H,t as S,b as w,F as D,l as M,q as V,s as O,v as G,x as I,y as J,z as K,A as Q,B as X,C as W,D as Y,E as Z,G as R,H as ee,I as te,J as se,K as ae,L as ne,M as re,w as A,N as oe,O as le,P as ie,Q as ce}from"./CJEpAnC7.js";import ue from"./DlJ3Nwem.js";import de from"./CaseIvxC.js";import{u as pe,q as ge}from"./COgdDjtI.js";import"./Dbe4Vm1S.js";import"./C-F1gjmX.js";import"./DKwKdH0s.js";import"./BtNuMUjy.js";const me={class:"flex flex-col lg:flex-row items-start gap-6"},fe={class:"flex-1"},ye=$({inheritAttrs:!1,__name:"PageHeader",props:{headline:{type:String,default:void 0},title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(s){const r={wrapper:"relative border-b border-gray-200 dark:border-gray-800 py-8",container:"flex flex-col lg:flex-row lg:items-center lg:justify-between",headline:"mb-3 text-sm/6 font-semibold text-primary flex items-center gap-1.5",title:"text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white tracking-tight",description:"mt-4 text-lg text-gray-500 dark:text-gray-400",icon:{wrapper:"flex",base:"w-10 h-10 flex-shrink-0 text-primary"},links:"flex flex-wrap items-center gap-1.5 mt-4 lg:mt-0"},i=s,{ui:n,attrs:a}=j("page.header",v(i,"ui"),r,v(i,"class"),!0);return(t,o)=>{var d;const c=V,m=G;return l(),p("div",_({class:e(n).wrapper},e(a)),[s.headline||t.$slots.headline?(l(),p("div",{key:0,class:u(e(n).headline)},[g(t.$slots,"headline",{},()=>[H(S(s.headline),1)])],2)):y("",!0),b("div",me,[s.icon||t.$slots.icon?(l(),p("div",{key:0,class:u(e(n).icon.wrapper)},[g(t.$slots,"icon",{},()=>[w(c,{name:s.icon,class:u(e(n).icon.base)},null,8,["name","class"])])],2)):y("",!0),b("div",fe,[b("div",{class:u(e(n).container)},[b("h1",{class:u(e(n).title)},[g(t.$slots,"title",{},()=>[H(S(s.title),1)])],2),(d=s.links)!=null&&d.length||t.$slots.links?(l(),p("div",{key:0,class:u(e(n).links)},[g(t.$slots,"links",{},()=>[(l(!0),p(D,null,M(s.links,(h,k)=>(l(),O(m,_({key:k},{...h,target:h.target||"_blank",color:h.color||"white"},{onClick:h.click}),null,16,["onClick"]))),128))])],2)):y("",!0)],2),s.description||t.$slots.description?(l(),p("p",{key:0,class:u(e(n).description)},[g(t.$slots,"description",{},()=>[H(S(s.description),1)])],2)):y("",!0),g(t.$slots,"default")])])],16)}}}),he=$({inheritAttrs:!1,__name:"PageBody",props:{prose:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(s){const r={wrapper:"mt-8 pb-24",prose:"prose prose-primary dark:prose-invert max-w-none"},i=s,{ui:n,attrs:a}=j("page.body",v(i,"ui"),r,v(i,"class"),!0);return(t,o)=>(l(),p("div",_({class:[e(n).wrapper,s.prose&&e(n).prose]},e(a)),[g(t.$slots,"default")],16))}}),ve=()=>{const s=I(),r=I([]),i=I([]),n=t=>{t.forEach(o=>{const c=o.target.id;o.isIntersecting?r.value=[...r.value,c]:r.value=r.value.filter(m=>m!==c)})},a=t=>{t.forEach(o=>{s.value&&s.value.observe(o)})};return J(r,(t,o)=>{t.length===0?i.value=o:i.value=t}),K(()=>s.value=new IntersectionObserver(n)),Q(()=>{var t;return(t=s.value)==null?void 0:t.disconnect()}),{visibleHeadings:r,activeHeadings:i,updateHeadings:a}},be=["href","onClick"],F=$({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(s,{emit:r}){const i={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},n=s,a=r,t=X(),o=W(),{activeHeadings:c,updateHeadings:m}=ve(),{ui:d,attrs:h}=j("content.toc.links",v(n,"ui"),i,v(n,"class"),!0);o.hooks.hookOnce("page:finish",()=>{m([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const k=x=>{const C=encodeURIComponent(x);t.push(`#${C}`),a("move",x)};return(x,C)=>{var B;const U=F;return(B=s.links)!=null&&B.length?(l(),p("ul",_({key:0,class:e(d).wrapper},e(h)),[(l(!0),p(D,null,M(s.links,f=>(l(),p("li",{key:f.text,class:u([e(d).wrapper,f.depth===3&&e(d).depth])},[b("a",{href:`#${f.id}`,class:u([e(d).base,e(c).includes(f.id)?e(d).active:e(d).inactive]),onClick:Y(P=>k(f.id),["prevent"])},S(f.text),11,be),f.children?(l(),O(U,{key:0,links:f.children},null,8,["links"])):y("",!0)],2))),128))],16)):y("",!0)}}}),ke=$({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(s){const r=Z(),i=R(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:r.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),n=s,{ui:a,attrs:t}=j("content.toc",v(n,"ui"),i,v(n,"class"),!0),o=I(!1);return(c,m)=>{var k,x;const d=V,h=F;return l(),p("nav",_({class:e(a).wrapper},e(t)),[b("div",{class:u([(k=s.links)!=null&&k.length?e(a).container.base:e(a).container.empty])},[g(c.$slots,"top"),(x=s.links)!=null&&x.length?(l(),p("button",{key:0,class:u(e(a).button.base),tabindex:"-1",onClick:m[0]||(m[0]=C=>o.value=!e(o))},[b("span",{class:u(e(a).button.label)},S(s.title),3),w(d,{name:e(a).button.trailingIcon.name,class:u(["lg:!hidden",[e(a).button.trailingIcon.base,e(o)?e(a).button.trailingIcon.active:e(a).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):y("",!0),w(h,{links:s.links,ui:e(a).links,class:u([e(o)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),g(c.$slots,"bottom")],2)],16)}}}),xe=$({inheritAttrs:!1,__name:"Page",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(s){const r={wrapper:"flex flex-col lg:grid lg:grid-cols-10 lg:gap-8",left:"lg:col-span-2",center:{narrow:"lg:col-span-6",base:"lg:col-span-8",full:"lg:col-span-10"},right:"lg:col-span-2 order-first lg:order-last"},i=s,n=ee(),{ui:a,attrs:t}=j("page",v(i,"ui"),r,v(i,"class"),!0),o=R(()=>n.left&&n.right?a.value.center.narrow:n.left||n.right?a.value.center.base:a.value.center.full);return(c,m)=>(l(),p("div",_({class:e(a).wrapper},e(t)),[c.$slots.left?(l(),p("div",{key:0,class:u(e(a).left)},[g(c.$slots,"left")],2)):y("",!0),b("div",{class:u(e(o))},[g(c.$slots,"default")],2),c.$slots.right?(l(),p("div",{key:1,class:u(e(a).right)},[g(c.$slots,"right")],2)):y("",!0)],16))}}),Be=$({__name:"[...slug]",async setup(s){var o,c;let r,i;const n=te("navigation"),a=se(),{data:t}=([r,i]=ae(()=>pe(a.path,()=>ge(a.path).findOne(),"$3l9wwpBX1R")),r=await r,i(),r);if(console.log("page.value.body",t.value.body),!t.value)throw ne({statusCode:404,statusMessage:"Page not found",fatal:!0});return R(()=>ie(ce(n.value,t.value)).map(d=>({label:d.label,to:d.to}))),(o=t.value.head)!=null&&o.title||t.value.title,(c=t.value.head)!=null&&c.description||t.value.description,(m,d)=>{const h=ye,k=ue,x=he,C=de,U=ke,B=xe;return l(),O(B,{ui:{right:"sticky top-[--header-height] bg-background/75 backdrop-blur group -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))] z-10"}},re({default:A(()=>[w(h,oe(le(e(t))),{headline:A(()=>[]),_:1},16),w(x,{prose:"",class:"dark:text-gray-300 dark:prose-pre:!bg-gray-800/60"},{default:A(()=>[e(t)&&e(t).body?(l(),O(k,{key:0,value:e(t)},null,8,["value"])):y("",!0)]),_:1})]),_:2},[e(t).toc!==!1?{name:"right",fn:A(()=>{var f,P;return[w(U,{links:(P=(f=e(t).body)==null?void 0:f.toc)==null?void 0:P.links,ui:{wrapper:""}},{bottom:A(()=>{var T,N,q,E,L,z;return[b("div",{class:u(["hidden lg:block space-y-6",{"!mt-6":(q=(N=(T=e(t).body)==null?void 0:T.toc)==null?void 0:N.links)==null?void 0:q.length}])},[(z=(L=(E=e(t).body)==null?void 0:E.toc)==null?void 0:L.links)!=null&&z.length?(l(),O(C,{key:0,type:"dashed"})):y("",!0)],2)]}),_:1},8,["links"])]}),key:"0"}:void 0]),1032,["ui"])}}});export{Be as default};
